<div class="flex inset-0 fixed">
  <!-- Left Section (Fixed) -->
  <div
    class="flex-1 bg-slate-900 text-white h-screen flex flex-col text-center justify-center"
  >
    <h1 class="text-white text-4xl font-bold">Unlock Your Potential</h1>
    <p class="p-5">Join our community and start your journey today.</p>
  </div>

  <!-- Right Section (Scrollable) -->
  <div class="flex-1 bg-white text-slate-900 h-screen overflow-y-auto">
    <div class="p-10 px-30">
      <h1 class="text-3xl font-bold text-slate-900 mb-2">
        Create your account
      </h1>

      <p class="text-slate-500 text-sm mb-4">Let's get you started!</p>

      <form #f="ngForm" class="flex flex-col">
        <!-- Global Error -->
        <div *ngIf="errorMessage" class="mb-3 text-red-600 text-sm">
          {{ errorMessage }}
        </div>

        <!-- Role -->
        <div class="mb-3">
          <label class="block mb-1 text-sm font-medium">Select Role</label>
          <select
            class="w-full px-4 py-3 border rounded-md"
            name="role"
            [(ngModel)]="role"
            required
            #roleRef="ngModel"
          >
            <option value="">Choose role</option>
            <option value="student">Student</option>
            <option value="teacher">Teacher</option>
            <option value="admin">Admin</option>
            <option value="superadmin">Super Admin</option>
          </select>

          <div
            *ngIf="roleRef.invalid && roleRef.touched"
            class="text-red-600 text-sm"
          >
            Role is required.
          </div>
        </div>

        <!-- Full Name -->
        <div class="mb-2">
          <label class="text-sm font-medium">Full Name</label>
          <input
            class="w-full px-4 py-3 border rounded-md"
            name="fullName"
            [(ngModel)]="fullName"
            required
            #fullNameRef="ngModel"
          />

          <div
            *ngIf="fullNameRef.invalid && fullNameRef.touched"
            class="text-red-600 text-sm"
          >
            Full name is required.
          </div>
        </div>

        <!-- Email -->
        <div class="mb-2">
          <label class="text-sm font-medium">Email</label>
          <input
            class="w-full px-4 py-3 border rounded-md"
            name="email"
            [(ngModel)]="email"
            required
            email
            type="email"
            #emailRef="ngModel"
          />

          <!-- Empty email -->
          <div
            *ngIf="emailRef.errors?.['required'] && emailRef.touched"
            class="text-red-600 text-sm"
          >
            Email is required.
          </div>

          <!-- Invalid format -->
          <div
            *ngIf="emailRef.errors?.['email'] && emailRef.touched"
            class="text-red-600 text-sm"
          >
            Please enter a valid email address.
          </div>
        </div>

        <!-- Password -->
        <div class="mb-2">
          <label class="text-sm font-medium">Password</label>
          <input
            type="password"
            class="w-full px-4 py-3 border rounded-md"
            name="password"
            [(ngModel)]="password"
            minlength="6"
            required
            #passwordRef="ngModel"
          />

          <div
            *ngIf="passwordRef.invalid && passwordRef.touched"
            class="text-red-600 text-sm"
          >
            Password must be at least 6 characters.
          </div>
        </div>

        <!-- Confirm Password -->
        <div class="mb-2">
          <label class="text-sm font-medium">Confirm Password</label>
          <input
            type="password"
            class="w-full px-4 py-3 border rounded-md"
            name="confirmPassword"
            [(ngModel)]="confirmPassword"
            minlength="6"
            required
            #confirmPasswordRef="ngModel"
          />

          <div
            *ngIf="confirmPasswordRef.invalid && confirmPasswordRef.touched"
            class="text-red-600 text-sm"
          >
            Please confirm your password.
          </div>
        </div>

        <!-- STUDENT FIELDS -->
        <div *ngIf="role === 'student'">
          <div class="mb-2">
            <label class="text-sm font-medium">Contact No</label>
            <input
              class="w-full px-4 py-3 border rounded-md"
              [(ngModel)]="contactNo"
              name="studentContact"
              required
              #studentContactRef="ngModel"
            />

            <div
              *ngIf="studentContactRef.invalid && studentContactRef.touched"
              class="text-red-600 text-sm"
            >
              Contact number is required.
            </div>
          </div>

          <div class="mb-2">
            <label class="text-sm font-medium">Country</label>
            <input
              class="w-full px-4 py-3 border rounded-md"
              [(ngModel)]="country"
              name="studentCountry"
              required
              #studentCountryRef="ngModel"
            />

            <div
              *ngIf="studentCountryRef.invalid && studentCountryRef.touched"
              class="text-red-600 text-sm"
            >
              Country is required.
            </div>
          </div>

          <div class="mb-2">
            <label class="text-sm font-medium">Status</label>
            <select
              class="w-full px-4 py-3 border rounded-md"
              [(ngModel)]="status"
              name="studentStatus"
              required
              #studentStatusRef="ngModel"
            >
              <option value="">Select status</option>
              <option value="studying">Studying</option>
              <option value="graduated">Graduated</option>
            </select>

            <div
              *ngIf="studentStatusRef.invalid && studentStatusRef.touched"
              class="text-red-600 text-sm"
            >
              Status is required.
            </div>
          </div>
        </div>

        <!-- TEACHER FIELDS -->
        <div *ngIf="role === 'teacher'">
          <div class="mb-2">
            <label class="text-sm font-medium">Contact No</label>
            <input
              class="w-full px-4 py-3 border rounded-md"
              [(ngModel)]="contactNo"
              name="studentContact"
              required
              #studentContactRef="ngModel"
            />

            <div
              *ngIf="studentContactRef.invalid && studentContactRef.touched"
              class="text-red-600 text-sm"
            >
              Contact number is required.
            </div>
          </div>

          <div class="mb-2">
            <label class="text-sm font-medium">Country</label>
            <input
              class="w-full px-4 py-3 border rounded-md"
              [(ngModel)]="country"
              name="studentCountry"
              required
              #studentCountryRef="ngModel"
            />

            <div
              *ngIf="studentCountryRef.invalid && studentCountryRef.touched"
              class="text-red-600 text-sm"
            >
              Country is required.
            </div>
          </div>
          <div class="mb-2">
            <label class="text-sm font-medium">Status</label>
            <select
              class="w-full px-4 py-3 border rounded-md"
              [(ngModel)]="status"
              name="teacherStatus"
              required
              #teacherStatusRef="ngModel"
            >
              <option value="">Select status</option>
              <option value="active">Active</option>
              <option value="on_leave">On Leave</option>
            </select>

            <div
              *ngIf="teacherStatusRef.invalid && teacherStatusRef.touched"
              class="text-red-600 text-sm"
            >
              Status is required.
            </div>
          </div>
        </div>

        <!-- ADMIN FIELDS -->
        <div *ngIf="role === 'admin'">
          <div class="mb-2">
            <label class="text-sm font-medium">Organization Name</label>
            <input
              class="w-full px-4 py-3 border rounded-md"
              [(ngModel)]="orgName"
              name="adminOrg"
              required
              #adminOrgRef="ngModel"
            />

            <div
              *ngIf="adminOrgRef.invalid && adminOrgRef.touched"
              class="text-red-600 text-sm"
            >
              Organization name is required.
            </div>
          </div>

          <div class="mb-2">
            <label class="text-sm font-medium">Contact No</label>
            <input
              class="w-full px-4 py-3 border rounded-md"
              [(ngModel)]="contactNo"
              name="adminContact"
              required
              #adminContactRef="ngModel"
            />

            <div
              *ngIf="adminContactRef.invalid && adminContactRef.touched"
              class="text-red-600 text-sm"
            >
              Contact number is required.
            </div>
          </div>

          <div class="mb-2">
            <label class="text-sm font-medium">Country</label>
            <input
              class="w-full px-4 py-3 border rounded-md"
              [(ngModel)]="country"
              name="adminCountry"
              required
              #adminCountryRef="ngModel"
            />

            <div
              *ngIf="adminCountryRef.invalid && adminCountryRef.touched"
              class="text-red-600 text-sm"
            >
              Country is required.
            </div>
          </div>
        </div>

        <!-- SUPER ADMIN -->
        <div *ngIf="role === 'superadmin'" class="text-sm text-gray-600 mb-2">
          This account will have platform-wide permissions.
        </div>

        <button
          type="button"
          (click)="onSignup()"
          class="w-full py-3.5 bg-slate-900 text-white rounded-md mt-4 hover:bg-slate-800"
        >
          Sign Up
        </button>

        <p class="text-center text-gray-600 text-sm mt-2">
          Already have an account?
          <a
            routerLink="/login"
            class="text-blue-950 cursor-pointer font-medium hover:underline"
          >
            Login
          </a>
        </p>
      </form>
    </div>
  </div>
</div>
